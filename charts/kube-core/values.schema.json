{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://github.com/intis/helm-charts/kube-core/values.schema.json",
    "title": "kube-core Helm Library Chart Values",
    "description": "Schema for service configuration values used with the kube-core Helm library chart",
    "type": "object",
    "properties": {
        "enabled": {
            "type": "boolean",
            "default": true,
            "description": "Enable or disable this service"
        },
        "environment": {
            "type": "string",
            "description": "Deployment environment (e.g., dev, qa, sqa, nga, prod). Used in hostname generation."
        },
        "subenvironment": {
            "type": "string",
            "description": "Sub-environment within the environment (e.g., dev-a, dev-b). Used in hostname generation."
        },
        "tenantId": {
            "type": "string",
            "description": "Tenant identifier for single-tenant deployments. Used in hostname generation."
        },
        "dnsZone": {
            "type": "string",
            "description": "DNS zone for constructing hostnames (e.g., example.com)"
        },
        "nameOverride": {
            "type": "string",
            "description": "Override the chart name used in resource names"
        },
        "fullnameOverride": {
            "type": "string",
            "description": "Override the full name used in resource names"
        },
        "replicaCount": {
            "type": "integer",
            "minimum": 0,
            "default": 1,
            "description": "Number of pod replicas (ignored when autoscaling.enabled is true)"
        },
        "app": {
            "type": "object",
            "description": "Application container configuration",
            "required": [
                "image"
            ],
            "properties": {
                "image": {
                    "type": "object",
                    "required": [
                        "repository"
                    ],
                    "properties": {
                        "repository": {
                            "type": "string",
                            "description": "Container image repository (required)"
                        },
                        "tag": {
                            "type": "string",
                            "description": "Container image tag. Defaults to Chart.appVersion if not set."
                        },
                        "pullPolicy": {
                            "type": "string",
                            "enum": [
                                "Always",
                                "Never",
                                "IfNotPresent"
                            ],
                            "default": "IfNotPresent",
                            "description": "Image pull policy"
                        }
                    }
                },
                "ports": {
                    "type": "array",
                    "description": "Container ports to expose",
                    "items": {
                        "type": "object",
                        "required": [
                            "name",
                            "containerPort",
                            "protocol"
                        ],
                        "properties": {
                            "name": {
                                "type": "string",
                                "maxLength": 15,
                                "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
                                "description": "Port name (must be a valid DNS label, max 15 chars)"
                            },
                            "containerPort": {
                                "type": "integer",
                                "minimum": 1,
                                "maximum": 65535,
                                "description": "Port number on the container"
                            },
                            "protocol": {
                                "type": "string",
                                "enum": [
                                    "TCP",
                                    "UDP",
                                    "SCTP"
                                ],
                                "default": "TCP",
                                "description": "Protocol for the port"
                            }
                        }
                    }
                },
                "env": {
                    "type": "array",
                    "description": "Environment variables for the container",
                    "items": {
                        "$ref": "#/$defs/envVar"
                    }
                },
                "envFrom": {
                    "type": "array",
                    "description": "List of sources to populate environment variables",
                    "items": {
                        "$ref": "#/$defs/envFromSource"
                    }
                },
                "command": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Override container entrypoint"
                },
                "args": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Override container arguments"
                }
            }
        },
        "initContainers": {
            "type": "array",
            "description": "Init containers to run before the main container",
            "items": {
                "$ref": "#/$defs/container"
            }
        },
        "sidecars": {
            "type": "array",
            "description": "Sidecar containers to run alongside the main container",
            "items": {
                "$ref": "#/$defs/container"
            }
        },
        "imagePullSecrets": {
            "type": "array",
            "description": "Secrets for pulling images from private registries",
            "items": {
                "type": "object",
                "required": [
                    "name"
                ],
                "properties": {
                    "name": {
                        "type": "string"
                    }
                }
            }
        },
        "serviceAccount": {
            "type": "object",
            "description": "ServiceAccount configuration",
            "properties": {
                "create": {
                    "type": "boolean",
                    "default": true,
                    "description": "Create a ServiceAccount"
                },
                "automount": {
                    "type": "boolean",
                    "default": false,
                    "description": "Automount ServiceAccount API credentials. Defaults to false for security; enable only when pods need Kubernetes API access."
                },
                "annotations": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "Annotations for the ServiceAccount"
                },
                "name": {
                    "type": "string",
                    "description": "ServiceAccount name (auto-generated if not set)"
                }
            }
        },
        "rbac": {
            "type": "object",
            "description": "RBAC configuration",
            "properties": {
                "create": {
                    "type": "boolean",
                    "default": false,
                    "description": "Create RBAC resources"
                },
                "role": {
                    "type": "object",
                    "properties": {
                        "annotations": {
                            "$ref": "#/$defs/annotations"
                        },
                        "labels": {
                            "$ref": "#/$defs/labels"
                        },
                        "rules": {
                            "type": "array",
                            "items": {
                                "$ref": "#/$defs/policyRule"
                            },
                            "description": "Role rules"
                        }
                    }
                },
                "roleBinding": {
                    "type": "object",
                    "properties": {
                        "annotations": {
                            "$ref": "#/$defs/annotations"
                        },
                        "labels": {
                            "$ref": "#/$defs/labels"
                        }
                    }
                },
                "clusterRole": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "default": false,
                            "description": "Create ClusterRole instead of Role"
                        },
                        "annotations": {
                            "$ref": "#/$defs/annotations"
                        },
                        "labels": {
                            "$ref": "#/$defs/labels"
                        },
                        "rules": {
                            "type": "array",
                            "items": {
                                "$ref": "#/$defs/policyRule"
                            },
                            "description": "ClusterRole rules"
                        }
                    }
                },
                "clusterRoleBinding": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "default": false,
                            "description": "Create ClusterRoleBinding"
                        },
                        "annotations": {
                            "$ref": "#/$defs/annotations"
                        },
                        "labels": {
                            "$ref": "#/$defs/labels"
                        }
                    }
                }
            }
        },
        "deploymentAnnotations": {
            "$ref": "#/$defs/annotations",
            "description": "Annotations for the Deployment"
        },
        "deploymentLabels": {
            "$ref": "#/$defs/labels",
            "description": "Additional labels for the Deployment"
        },
        "podAnnotations": {
            "$ref": "#/$defs/annotations",
            "description": "Annotations for Pods"
        },
        "podLabels": {
            "$ref": "#/$defs/labels",
            "description": "Additional labels for Pods"
        },
        "podSecurityContext": {
            "$ref": "#/$defs/podSecurityContext",
            "description": "Pod-level security context"
        },
        "enableServiceLinks": {
            "type": "boolean",
            "default": false,
            "description": "Enable service environment variables"
        },
        "securityContext": {
            "$ref": "#/$defs/securityContext",
            "description": "Container-level security context"
        },
        "service": {
            "type": "object",
            "description": "Kubernetes Service configuration",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "default": true,
                    "description": "Create a Service"
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "ClusterIP",
                        "NodePort",
                        "LoadBalancer",
                        "ExternalName"
                    ],
                    "default": "ClusterIP",
                    "description": "Service type"
                },
                "ports": {
                    "type": "array",
                    "minItems": 1,
                    "description": "Service ports",
                    "items": {
                        "type": "object",
                        "required": [
                            "name",
                            "port",
                            "targetPort",
                            "protocol"
                        ],
                        "properties": {
                            "name": {
                                "type": "string",
                                "description": "Port name"
                            },
                            "port": {
                                "type": "integer",
                                "minimum": 1,
                                "maximum": 65535,
                                "description": "Service port number"
                            },
                            "targetPort": {
                                "oneOf": [
                                    {
                                        "type": "string"
                                    },
                                    {
                                        "type": "integer"
                                    }
                                ],
                                "description": "Target port (name or number)"
                            },
                            "protocol": {
                                "type": "string",
                                "enum": [
                                    "TCP",
                                    "UDP",
                                    "SCTP"
                                ],
                                "default": "TCP"
                            }
                        }
                    }
                },
                "annotations": {
                    "$ref": "#/$defs/annotations"
                }
            }
        },
        "configmap": {
            "type": "object",
            "description": "ConfigMap configuration",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "default": false,
                    "description": "Create a ConfigMap"
                },
                "name": {
                    "type": "string",
                    "description": "ConfigMap name (auto-generated if not set)"
                },
                "annotations": {
                    "$ref": "#/$defs/annotations"
                },
                "labels": {
                    "$ref": "#/$defs/labels"
                },
                "data": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "ConfigMap data"
                },
                "binaryData": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "ConfigMap binary data (base64 encoded)"
                },
                "mount": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "default": true,
                            "description": "Mount ConfigMap as volume"
                        },
                        "mountPath": {
                            "type": "string",
                            "default": "/etc/config",
                            "description": "Mount path in container"
                        },
                        "readOnly": {
                            "type": "boolean",
                            "default": true,
                            "description": "Mount as read-only"
                        },
                        "subPath": {
                            "type": "string",
                            "description": "SubPath for single file mount"
                        },
                        "items": {
                            "type": "array",
                            "description": "Specific keys to mount",
                            "items": {
                                "type": "object",
                                "required": [
                                    "key",
                                    "path"
                                ],
                                "properties": {
                                    "key": {
                                        "type": "string"
                                    },
                                    "path": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "ingress": {
            "type": "object",
            "description": "Ingress configuration",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "default": false,
                    "description": "Create an Ingress"
                },
                "className": {
                    "type": "string",
                    "description": "Ingress class name"
                },
                "annotations": {
                    "$ref": "#/$defs/annotations"
                },
                "hosts": {
                    "type": "array",
                    "description": "Ingress hosts",
                    "items": {
                        "type": "object",
                        "required": [
                            "host",
                            "paths"
                        ],
                        "properties": {
                            "host": {
                                "type": "string",
                                "description": "Hostname (dnsZone appended automatically)"
                            },
                            "paths": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "required": [
                                        "path"
                                    ],
                                    "properties": {
                                        "path": {
                                            "type": "string",
                                            "description": "URL path"
                                        },
                                        "pathType": {
                                            "type": "string",
                                            "enum": [
                                                "Prefix",
                                                "Exact",
                                                "ImplementationSpecific"
                                            ],
                                            "default": "Prefix"
                                        },
                                        "port": {
                                            "type": "integer",
                                            "description": "Service port (defaults to first port)"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "tls": {
                    "type": "array",
                    "description": "TLS configuration",
                    "items": {
                        "type": "object",
                        "required": [
                            "secretName",
                            "hosts"
                        ],
                        "properties": {
                            "secretName": {
                                "type": "string",
                                "description": "TLS secret name"
                            },
                            "hosts": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                },
                                "description": "Hosts covered by this TLS config"
                            }
                        }
                    }
                }
            }
        },
        "httpRoute": {
            "type": "object",
            "description": "Gateway API HTTPRoute configuration",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "default": false,
                    "description": "Create an HTTPRoute"
                },
                "annotations": {
                    "$ref": "#/$defs/annotations"
                },
                "parentRefs": {
                    "type": "array",
                    "description": "Gateway references",
                    "items": {
                        "type": "object",
                        "required": [
                            "name"
                        ],
                        "properties": {
                            "name": {
                                "type": "string"
                            },
                            "namespace": {
                                "type": "string"
                            },
                            "sectionName": {
                                "type": "string"
                            }
                        }
                    }
                },
                "hostnames": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Hostnames (dnsZone appended automatically)"
                },
                "rules": {
                    "type": "array",
                    "description": "Routing rules",
                    "items": {
                        "type": "object",
                        "properties": {
                            "matches": {
                                "type": "array"
                            },
                            "filters": {
                                "type": "array"
                            },
                            "port": {
                                "type": "integer"
                            },
                            "weight": {
                                "type": "integer",
                                "default": 1
                            }
                        }
                    }
                }
            }
        },
        "resources": {
            "$ref": "#/$defs/resourceRequirements",
            "description": "Container resource requests and limits"
        },
        "livenessProbe": {
            "$ref": "#/$defs/probe",
            "description": "Liveness probe configuration"
        },
        "readinessProbe": {
            "$ref": "#/$defs/probe",
            "description": "Readiness probe configuration"
        },
        "startupProbe": {
            "$ref": "#/$defs/probe",
            "description": "Startup probe configuration"
        },
        "autoscaling": {
            "type": "object",
            "description": "HorizontalPodAutoscaler configuration",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable autoscaling"
                },
                "minReplicas": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Minimum replicas"
                },
                "maxReplicas": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 10,
                    "description": "Maximum replicas"
                },
                "targetCPUUtilizationPercentage": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 100,
                    "description": "Target CPU utilization percentage"
                },
                "targetMemoryUtilizationPercentage": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 100,
                    "description": "Target memory utilization percentage"
                },
                "behavior": {
                    "type": "object",
                    "description": "Scaling behavior policies",
                    "properties": {
                        "scaleDown": {
                            "$ref": "#/$defs/scalingPolicy"
                        },
                        "scaleUp": {
                            "$ref": "#/$defs/scalingPolicy"
                        }
                    }
                },
                "customMetrics": {
                    "type": "array",
                    "description": "Custom metrics for scaling"
                },
                "containerMetrics": {
                    "type": "array",
                    "description": "Container-specific metrics for scaling"
                }
            }
        },
        "volumes": {
            "type": "array",
            "description": "Additional volumes",
            "items": {
                "$ref": "#/$defs/volume"
            }
        },
        "volumeMounts": {
            "type": "array",
            "description": "Additional volume mounts",
            "items": {
                "$ref": "#/$defs/volumeMount"
            }
        },
        "persistentVolumes": {
            "type": "array",
            "description": "PersistentVolumeClaims to create",
            "items": {
                "type": "object",
                "required": [
                    "name",
                    "mountPath",
                    "storageClassName",
                    "accessModes",
                    "storage"
                ],
                "properties": {
                    "name": {
                        "type": "string",
                        "description": "PVC name suffix"
                    },
                    "mountPath": {
                        "type": "string",
                        "description": "Mount path in container"
                    },
                    "storageClassName": {
                        "type": "string",
                        "description": "Storage class"
                    },
                    "accessModes": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "enum": [
                                "ReadWriteOnce",
                                "ReadOnlyMany",
                                "ReadWriteMany",
                                "ReadWriteOncePod"
                            ]
                        }
                    },
                    "storage": {
                        "type": "string",
                        "pattern": "^[0-9]+(Ki|Mi|Gi|Ti|Pi|Ei)?$",
                        "description": "Storage size (e.g., 10Gi)"
                    },
                    "volumeMode": {
                        "type": "string",
                        "enum": [
                            "Filesystem",
                            "Block"
                        ]
                    },
                    "selector": {
                        "type": "object"
                    },
                    "volumeName": {
                        "type": "string"
                    }
                }
            }
        },
        "nodeSelector": {
            "type": "object",
            "additionalProperties": {
                "type": "string"
            },
            "description": "Node selector labels"
        },
        "tolerations": {
            "type": "array",
            "description": "Pod tolerations",
            "items": {
                "$ref": "#/$defs/toleration"
            }
        },
        "affinity": {
            "type": "object",
            "description": "Pod affinity rules",
            "properties": {
                "nodeAffinity": {
                    "type": "object"
                },
                "podAffinity": {
                    "type": "object"
                },
                "podAntiAffinity": {
                    "type": "object"
                }
            }
        },
        "topologySpreadConstraints": {
            "type": "array",
            "description": "Pod topology spread constraints",
            "items": {
                "type": "object",
                "required": [
                    "maxSkew",
                    "topologyKey",
                    "whenUnsatisfiable"
                ],
                "properties": {
                    "maxSkew": {
                        "type": "integer",
                        "minimum": 1
                    },
                    "topologyKey": {
                        "type": "string"
                    },
                    "whenUnsatisfiable": {
                        "type": "string",
                        "enum": [
                            "DoNotSchedule",
                            "ScheduleAnyway"
                        ]
                    },
                    "labelSelector": {
                        "type": "object"
                    },
                    "minDomains": {
                        "type": "integer"
                    },
                    "nodeAffinityPolicy": {
                        "type": "string"
                    },
                    "nodeTaintsPolicy": {
                        "type": "string"
                    }
                }
            }
        },
        "podDisruptionBudget": {
            "type": "object",
            "description": "PodDisruptionBudget configuration",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "default": false,
                    "description": "Create a PDB"
                },
                "minAvailable": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "minimum": 0
                        },
                        {
                            "type": "string",
                            "pattern": "^[0-9]+%$"
                        }
                    ],
                    "description": "Minimum available pods (number or percentage)"
                },
                "maxUnavailable": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "minimum": 0
                        },
                        {
                            "type": "string",
                            "pattern": "^[0-9]+%$"
                        }
                    ],
                    "description": "Maximum unavailable pods (number or percentage)"
                },
                "annotations": {
                    "$ref": "#/$defs/annotations"
                },
                "labels": {
                    "$ref": "#/$defs/labels"
                }
            }
        },
        "serviceMonitor": {
            "type": "object",
            "description": "Prometheus ServiceMonitor configuration",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "default": false,
                    "description": "Create a ServiceMonitor"
                },
                "annotations": {
                    "$ref": "#/$defs/annotations"
                },
                "labels": {
                    "$ref": "#/$defs/labels"
                },
                "jobLabel": {
                    "type": "string"
                },
                "selector": {
                    "type": "object"
                },
                "endpoints": {
                    "type": "array",
                    "minItems": 1,
                    "description": "Scrape endpoints",
                    "items": {
                        "type": "object",
                        "required": [
                            "port"
                        ],
                        "properties": {
                            "port": {
                                "type": "string"
                            },
                            "interval": {
                                "type": "string",
                                "pattern": "^[0-9]+(s|m|h)$"
                            },
                            "scrapeTimeout": {
                                "type": "string",
                                "pattern": "^[0-9]+(s|m|h)$"
                            },
                            "path": {
                                "type": "string"
                            },
                            "scheme": {
                                "type": "string",
                                "enum": [
                                    "http",
                                    "https"
                                ]
                            },
                            "honorLabels": {
                                "type": "boolean"
                            },
                            "honorTimestamps": {
                                "type": "boolean"
                            },
                            "relabelings": {
                                "type": "array"
                            },
                            "metricRelabelings": {
                                "type": "array"
                            },
                            "tlsConfig": {
                                "type": "object"
                            },
                            "basicAuth": {
                                "type": "object"
                            },
                            "authorization": {
                                "type": "object"
                            }
                        }
                    }
                }
            }
        },
        "prometheusRule": {
            "type": "object",
            "description": "PrometheusRule configuration",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "default": false,
                    "description": "Create PrometheusRule resources"
                },
                "prometheusLabel": {
                    "type": "string",
                    "description": "Label to match Prometheus instances"
                },
                "rules": {
                    "type": "array",
                    "description": "Alert and recording rules",
                    "items": {
                        "type": "object",
                        "required": [
                            "name",
                            "groups"
                        ],
                        "properties": {
                            "name": {
                                "type": "string"
                            },
                            "groups": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "required": [
                                        "name",
                                        "rules"
                                    ],
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "rules": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "alert": {
                                                        "type": "string"
                                                    },
                                                    "record": {
                                                        "type": "string"
                                                    },
                                                    "expr": {
                                                        "type": "string"
                                                    },
                                                    "for": {
                                                        "type": "string"
                                                    },
                                                    "labels": {
                                                        "type": "object"
                                                    },
                                                    "annotations": {
                                                        "type": "object"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "$defs": {
        "annotations": {
            "type": "object",
            "additionalProperties": {
                "type": "string"
            },
            "description": "Kubernetes annotations"
        },
        "labels": {
            "type": "object",
            "additionalProperties": {
                "type": "string"
            },
            "description": "Kubernetes labels"
        },
        "envVar": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                },
                "valueFrom": {
                    "type": "object",
                    "properties": {
                        "configMapKeyRef": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string"
                                },
                                "key": {
                                    "type": "string"
                                },
                                "optional": {
                                    "type": "boolean"
                                }
                            }
                        },
                        "secretKeyRef": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string"
                                },
                                "key": {
                                    "type": "string"
                                },
                                "optional": {
                                    "type": "boolean"
                                }
                            }
                        },
                        "fieldRef": {
                            "type": "object",
                            "properties": {
                                "fieldPath": {
                                    "type": "string"
                                },
                                "apiVersion": {
                                    "type": "string"
                                }
                            }
                        },
                        "resourceFieldRef": {
                            "type": "object",
                            "properties": {
                                "containerName": {
                                    "type": "string"
                                },
                                "resource": {
                                    "type": "string"
                                },
                                "divisor": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "envFromSource": {
            "type": "object",
            "properties": {
                "prefix": {
                    "type": "string"
                },
                "configMapRef": {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string"
                        },
                        "optional": {
                            "type": "boolean"
                        }
                    }
                },
                "secretRef": {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string"
                        },
                        "optional": {
                            "type": "boolean"
                        }
                    }
                }
            }
        },
        "container": {
            "type": "object",
            "required": [
                "name",
                "image"
            ],
            "properties": {
                "name": {
                    "type": "string"
                },
                "image": {
                    "type": "string"
                },
                "command": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "args": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "env": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/envVar"
                    }
                },
                "envFrom": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/envFromSource"
                    }
                },
                "ports": {
                    "type": "array"
                },
                "resources": {
                    "$ref": "#/$defs/resourceRequirements"
                },
                "securityContext": {
                    "$ref": "#/$defs/securityContext"
                },
                "volumeMounts": {
                    "type": "array",
                    "items": {
                        "$ref": "#/$defs/volumeMount"
                    }
                }
            }
        },
        "resourceRequirements": {
            "type": "object",
            "properties": {
                "limits": {
                    "type": "object",
                    "properties": {
                        "cpu": {
                            "type": "string"
                        },
                        "memory": {
                            "type": "string"
                        },
                        "ephemeral-storage": {
                            "type": "string"
                        }
                    }
                },
                "requests": {
                    "type": "object",
                    "properties": {
                        "cpu": {
                            "type": "string"
                        },
                        "memory": {
                            "type": "string"
                        },
                        "ephemeral-storage": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "probe": {
            "type": "object",
            "properties": {
                "httpGet": {
                    "type": "object",
                    "properties": {
                        "path": {
                            "type": "string"
                        },
                        "port": {
                            "oneOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "HTTP",
                                "HTTPS"
                            ]
                        },
                        "httpHeaders": {
                            "type": "array"
                        }
                    }
                },
                "tcpSocket": {
                    "type": "object",
                    "properties": {
                        "port": {
                            "oneOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        }
                    }
                },
                "exec": {
                    "type": "object",
                    "properties": {
                        "command": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                },
                "grpc": {
                    "type": "object",
                    "properties": {
                        "port": {
                            "type": "integer"
                        },
                        "service": {
                            "type": "string"
                        }
                    }
                },
                "initialDelaySeconds": {
                    "type": "integer",
                    "minimum": 0
                },
                "periodSeconds": {
                    "type": "integer",
                    "minimum": 1
                },
                "timeoutSeconds": {
                    "type": "integer",
                    "minimum": 1
                },
                "successThreshold": {
                    "type": "integer",
                    "minimum": 1
                },
                "failureThreshold": {
                    "type": "integer",
                    "minimum": 1
                }
            }
        },
        "podSecurityContext": {
            "type": "object",
            "properties": {
                "runAsNonRoot": {
                    "type": "boolean"
                },
                "runAsUser": {
                    "type": "integer"
                },
                "runAsGroup": {
                    "type": "integer"
                },
                "fsGroup": {
                    "type": "integer"
                },
                "fsGroupChangePolicy": {
                    "type": "string",
                    "enum": [
                        "OnRootMismatch",
                        "Always"
                    ]
                },
                "seccompProfile": {
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "string",
                            "enum": [
                                "RuntimeDefault",
                                "Localhost",
                                "Unconfined"
                            ]
                        },
                        "localhostProfile": {
                            "type": "string"
                        }
                    }
                },
                "supplementalGroups": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "sysctls": {
                    "type": "array"
                }
            }
        },
        "securityContext": {
            "type": "object",
            "properties": {
                "allowPrivilegeEscalation": {
                    "type": "boolean"
                },
                "readOnlyRootFilesystem": {
                    "type": "boolean"
                },
                "runAsNonRoot": {
                    "type": "boolean"
                },
                "runAsUser": {
                    "type": "integer"
                },
                "runAsGroup": {
                    "type": "integer"
                },
                "privileged": {
                    "type": "boolean"
                },
                "capabilities": {
                    "type": "object",
                    "properties": {
                        "add": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "drop": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                },
                "seccompProfile": {
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "string"
                        },
                        "localhostProfile": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "policyRule": {
            "type": "object",
            "required": [
                "apiGroups",
                "resources",
                "verbs"
            ],
            "properties": {
                "apiGroups": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "resources": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "verbs": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "resourceNames": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "scalingPolicy": {
            "type": "object",
            "properties": {
                "stabilizationWindowSeconds": {
                    "type": "integer",
                    "minimum": 0
                },
                "policies": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "required": [
                            "type",
                            "value",
                            "periodSeconds"
                        ],
                        "properties": {
                            "type": {
                                "type": "string",
                                "enum": [
                                    "Pods",
                                    "Percent"
                                ]
                            },
                            "value": {
                                "type": "integer",
                                "minimum": 1
                            },
                            "periodSeconds": {
                                "type": "integer",
                                "minimum": 1
                            }
                        }
                    }
                },
                "selectPolicy": {
                    "type": "string",
                    "enum": [
                        "Max",
                        "Min",
                        "Disabled"
                    ]
                }
            }
        },
        "volume": {
            "type": "object",
            "required": [
                "name"
            ],
            "properties": {
                "name": {
                    "type": "string"
                },
                "configMap": {
                    "type": "object"
                },
                "secret": {
                    "type": "object"
                },
                "emptyDir": {
                    "type": "object"
                },
                "hostPath": {
                    "type": "object"
                },
                "persistentVolumeClaim": {
                    "type": "object"
                },
                "downwardAPI": {
                    "type": "object"
                },
                "projected": {
                    "type": "object"
                }
            }
        },
        "volumeMount": {
            "type": "object",
            "required": [
                "name",
                "mountPath"
            ],
            "properties": {
                "name": {
                    "type": "string"
                },
                "mountPath": {
                    "type": "string"
                },
                "subPath": {
                    "type": "string"
                },
                "readOnly": {
                    "type": "boolean"
                }
            }
        },
        "toleration": {
            "type": "object",
            "properties": {
                "key": {
                    "type": "string"
                },
                "operator": {
                    "type": "string",
                    "enum": [
                        "Exists",
                        "Equal"
                    ]
                },
                "value": {
                    "type": "string"
                },
                "effect": {
                    "type": "string",
                    "enum": [
                        "NoSchedule",
                        "PreferNoSchedule",
                        "NoExecute"
                    ]
                },
                "tolerationSeconds": {
                    "type": "integer"
                }
            }
        }
    }
}